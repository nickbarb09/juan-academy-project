{% extends 'core/base.html' %}

{% block title %}Visualizza Libro: {{ libro.titolo }}{% endblock %}

{% block content %}
    <h1 class="mb-4">Visualizza Libro: {{ libro.titolo }}</h1>

    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h5 class="card-title">{{ libro.titolo }}</h5>
            <h6 class="card-subtitle mb-2 text-muted">Materia: {{ libro.materia }}</h6>
            <p class="card-text">{{ libro.descrizione }}</p>
            {% if libro.file_pdf %}
                <p class="card-text">
                    <small class="text-muted">Dimensione file: {{ libro.file_pdf.size|filesizeformat }}</small>
                </p>
                <hr>
                <h4 class="mt-4">Contenuto PDF:</h4>
                {# Incorpore il PDF usando un iframe o un visualizzatore di PDF JavaScript #}
                {# Per visualizzare direttamente il PDF, puoi usare un iframe: #}
                <div class="embed-responsive embed-responsive-16by9" style="height: 600px;">
                    <iframe class="embed-responsive-item" src="{{ pdf_url }}" width="100%" height="100%" style="border: none;"></iframe>
                </div>
                <p class="mt-3 text-center">
                    <a href="{{ pdf_url }}" target="_blank" class="btn btn-secondary">Apri PDF in una nuova scheda</a>
                </p>
            {% else %}
                <div class="alert alert-warning" role="alert">
                    Nessun file PDF disponibile per questo libro.
                </div>
            {% endif %}
        </div>
    </div>

    <a href="javascript:history.back()" class="btn btn-outline-secondary">Torna Indietro</a>
{% endblock %}